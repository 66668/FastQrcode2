# 原生摄像头版：
## 3款app说明：

1. app项目:原生摄像头版本,qr链路识别端,是测试A软件的服务端，是测试B软件的客户端，不对客户提供源码，只提供打包apk。
（测试A<--->qr链路识别端,qr链路识别端-->测试B）
2. clientdemo:测试A软件。用于向链路层发送控制信息，发送传输文件等，同时可以监听链路层的传输状态。(测试A<--->qr链路识别端)
3. fileapp:测试B软件。接收链路端的传输文件。(qr链路识别端-->测试B）

三款软件的通讯使用aidl,链路层与测试A互相联系，链路层和测试B互相联系，测试A和测试B之间没有任何联系，各个软件的功能互不影响。
深度开发测试A和B软件即可，链路层的传输已经深度完成，只负责传输信息。


## 知识点说明
1. 知识点：两个app的aidl调用（单方向调用，客户端调用服务端）
2. 知识点：两个app的互相通讯（客户端和服务端互相通讯）
3. 知识点：act与service的互相通讯


1. 在service的aidl中添加 register(自己的callback)和unregister(自己的callback)
2. 在服务端的aidl中再创建一个自己的callback,添加回调的方法。

## 性能优化分析
1. 倒计时优化:handler.postdelay倒计时不准确，改为 Timer+runOnUiThread方式
2. list<String> 转list<Bitmap>，由单个线程转为并发线程处理，提高转化速度，同时得出结论：google提供的core3.3.3.jar二维码生成包，支持并发生成二维码图。


900KB数据 414条数据转化测试
单线程耗时31s。
并发2个线程耗时16s
并发3个线程耗时13s
并发4个线程耗时13s
并发5个线程耗时16s，
并发6个线程耗时16s,
并发10个线程耗时16s,

结论：**并发线程再多，耗时只能缩短一半。合理的线程数是2——4个。而且耗时都一样。**
